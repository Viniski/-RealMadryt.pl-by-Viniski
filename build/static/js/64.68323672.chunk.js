"use strict";(self.webpackChunkrealmadryt_pl=self.webpackChunkrealmadryt_pl||[]).push([[64],{64:function(e,a,n){n.r(a),n.d(a,{default:function(){return M}});var r=n(2791),s=n(6871),t=n(8497),o=n(1012),i=n(1364),c=n(4165),l=n(5861),d=n(885),u=n(7411),m=n(2982),f=n(3504),h="MyComment_comment__hTmQA",Z="MyComment_commentText__lUnEf",p="MyComment_commentLink__Zcmuw",x=n(184);var _=function(e){var a,n=(0,r.useContext)(t.Z);return(0,x.jsxs)("div",{className:h,children:[(0,x.jsx)("p",{className:Z,children:e.data.text}),(0,x.jsxs)("p",{className:p,children:["Komentarz pod artyku\u0142em"," ",(0,x.jsx)(f.rU,{to:"/news/".concat(e.data.articleId),children:(a=e.data.articleId,(0,m.Z)(n.state.articles).filter((function(e){return e.articleId===Number(a)}))[0].title)})]})]})},w=n(9249),v="MyComments_loginTitle__52Ncp",j="MyComments_commentsPanel__J4FDp",g="MyComments_zeroComment__5sV7U";var y=function(){var e=(0,r.useState)([]),a=(0,d.Z)(e,2),n=a[0],s=a[1],t=(0,r.useState)(!0),i=(0,d.Z)(t,2),m=i[0],f=i[1],h=(0,r.useContext)(o.Z).user.userName,Z=function(){var e=(0,l.Z)((0,c.Z)().mark((function e(){var a,n;return(0,c.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.b.get("/comments");case 2:a=e.sent,n=(n=a.data).filter((function(e){return e.user==h})),s(n),f(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){Z()}),[]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:v,children:(0,x.jsx)("h1",{children:"Moje komentarze"})}),m?(0,x.jsx)(w.Z,{}):(0,x.jsx)("div",{className:j,children:0===n.length?(0,x.jsx)("div",{className:g,children:(0,x.jsx)("p",{children:"Nie doda\u0142e\u015b jeszcze \u017cadnego komentarza! Zapraszamy do komentowania naszych artyku\u0142\xf3w."})}):n.map((function(e){return(0,x.jsx)(_,{data:e},e._id)}))})]})},k=n(1413),b=n(1857),C=n(9523),P={loginTitle:"PasswordChange_loginTitle__QLZhN",form:"PasswordChange_form__Rw43A",loginButton:"PasswordChange_loginButton__GAGKo",notDisplay:"PasswordChange_notDisplay__-WJP+",valid:"PasswordChange_valid__0oolx",invalid:"PasswordChange_invalid__x0jUq"};function N(){var e=(0,r.useContext)(o.Z).user.email,a=(0,r.useState)(e),n=(0,d.Z)(a,2),s=n[0],t=n[1],i=(0,r.useState)(""),m=(0,d.Z)(i,2),f=m[0],h=m[1],Z=(0,r.useState)(""),p=(0,d.Z)(Z,2),_=p[0],w=p[1],v=(0,r.useState)({confirmPassword:"",backendError:""}),j=(0,d.Z)(v,2),g=j[0],y=j[1],N=(0,r.useState)({confirmPassword:!1,backendError:!1}),z=(0,d.Z)(N,2),E=z[0],M=z[1],S=(0,r.useState)(""),D=(0,d.Z)(S,2),F=D[0],T=D[1],B=(0,r.useState)(!1),U=(0,d.Z)(B,2),A=U[0],I=U[1],q=function(){var a=(0,l.Z)((0,c.Z)().mark((function a(n){var r;return(0,c.Z)().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.prev=1,a.next=4,u.b.put("/password-change",{email:s,password:f,authEmail:e});case 4:T("Zmiana has\u0142a przebieg\u0142a prawid\u0142owo. Has\u0142o zosta\u0142o zaktualizowane."),y((0,k.Z)((0,k.Z)({},g),{},{backendError:""})),t(""),h(""),w(""),I((0,k.Z)((0,k.Z)({},E),{},{backendError:!1})),I(!0),a.next=18;break;case 13:a.prev=13,a.t0=a.catch(1),r=a.t0.response.data.message,y((0,k.Z)((0,k.Z)({},g),{},{backendError:r})),M((0,k.Z)((0,k.Z)({},E),{},{backendError:!0}));case 18:case"end":return a.stop()}}),a,null,[[1,13]])})));return function(e){return a.apply(this,arguments)}}();return(0,r.useEffect)((function(){f!==_?y((0,k.Z)((0,k.Z)({},g),{},{confirmPassword:"Podane has\u0142a nie s\u0105 identyczne"})):(y((0,k.Z)((0,k.Z)({},g),{},{confirmPassword:""})),M((0,k.Z)((0,k.Z)({},E),{},{confirmPassword:!1})))}),[f,_]),(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:P.loginTitle,children:(0,x.jsx)("h1",{children:"Zmiana has\u0142a"})}),(0,x.jsxs)("form",{onSubmit:q,className:P.form,children:[(0,x.jsx)(b.Z,{label:"Email",type:"email",value:s,onChange:function(e){return t(e)}}),(0,x.jsx)(C.Z,{label:"Nowe has\u0142o (min. 8 znak\xf3w)",type:"password",value:f,onChange:function(e){return h(e)}}),(0,x.jsx)(C.Z,{label:"Powt\xf3rz nowe has\u0142o",type:"password",value:_,onChange:function(e){return function(e){w(e),M((0,k.Z)((0,k.Z)({},E),{},{confirmPassword:!0}))}(e)},classNameButton:P.passwordEye}),(0,x.jsx)("div",{className:E.confirmPassword&&g.confirmPassword?P.invalid:P.notDisplay,children:g.confirmPassword}),(0,x.jsx)("div",{className:E.backendError&&g.backendError?P.invalid:P.notDisplay,children:g.backendError}),(0,x.jsx)("div",{className:A&&F?P.valid:P.notDisplay,children:F}),(0,x.jsx)("button",{disabled:g.confirmPassword,className:P.loginButton,children:"Zapisz zmiany"})]})]})}var z="Profile_profile__Fvjqk";function E(){var e=(0,r.useContext)(o.Z);return(0,i.Z)("M\xf3j profil | RealMadryt.pl by Viniski"),(0,x.jsx)("div",{className:z,children:"social"===e.user.authenticationMethod?(0,x.jsx)(y,{}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(N,{}),(0,x.jsx)(y,{})]})})}function M(){return(0,r.useContext)(t.Z).state.user?(0,x.jsx)(E,{}):(0,x.jsx)(s.Fg,{to:"/zaloguj"})}}}]);
//# sourceMappingURL=64.68323672.chunk.js.map