{"version":3,"file":"static/js/64.68323672.chunk.js","mappings":"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","sources":["webpack://realmadryt.pl/./src/pages/Auth/Profile/MyComments/MyComment/MyComment.module.css?2e25","pages/Auth/Profile/MyComments/MyComment/MyComment.js","webpack://realmadryt.pl/./src/pages/Auth/Profile/MyComments/MyComments.module.css?4ce0","pages/Auth/Profile/MyComments/MyComments.js","webpack://realmadryt.pl/./src/pages/Auth/Profile/PasswordChange/PasswordChange.module.css?fedb","pages/Auth/Profile/PasswordChange/PasswordChange.js","webpack://realmadryt.pl/./src/pages/Auth/Profile/Profile.module.css?7a7a","pages/Auth/Profile/Profile.js","hoc/AuthenticatedRoute.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"comment\":\"MyComment_comment__hTmQA\",\"commentText\":\"MyComment_commentText__lUnEf\",\"commentLink\":\"MyComment_commentLink__Zcmuw\"};","import { useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport ReducerContext from \"../../../../../context/reducerContext\";\r\nimport styles from \"./MyComment.module.css\";\r\n\r\nfunction MyComment(props) {\r\n  const reducer = useContext(ReducerContext);\r\n\r\n  const getArticleTitle = (atricleId) => {\r\n    const allArticle = [...reducer.state.articles];\r\n    const article = allArticle.filter(\r\n      (article) => article.articleId === Number(atricleId)\r\n    );\r\n    return article[0].title;\r\n  };\r\n\r\n  return (\r\n    <div className={styles.comment}>\r\n      <p className={styles.commentText}>{props.data.text}</p>\r\n      <p className={styles.commentLink}>\r\n        Komentarz pod artykułem{\" \"}\r\n        <Link to={`/news/${props.data.articleId}`}>\r\n          {getArticleTitle(props.data.articleId)}\r\n        </Link>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyComment;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"loginTitle\":\"MyComments_loginTitle__52Ncp\",\"commentsPanel\":\"MyComments_commentsPanel__J4FDp\",\"zeroComment\":\"MyComments_zeroComment__5sV7U\",\"notDisplay\":\"MyComments_notDisplay__-q0OJ\",\"valid\":\"MyComments_valid__7AlUz\",\"invalid\":\"MyComments_invalid__1HoqO\"};","import { useState, useEffect, useContext } from \"react\";\r\nimport AuthContext from \"../../../../context/authContext\";\r\nimport { axiosInstance } from \"../../../../axios\";\r\nimport MyComment from \"./MyComment/MyComment\";\r\nimport LoadingIcon from \"../../../../components/UI/LoadingIcon/LoadingIcon\";\r\nimport styles from \"./MyComments.module.css\";\r\n\r\nfunction MyComments() {\r\n  const [myComments, setMyComments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const auth = useContext(AuthContext);\r\n  const authUser = auth.user.userName;\r\n\r\n  const getMyComments = async () => {\r\n    const res = await axiosInstance.get(\"/comments\");\r\n    let myComments = res.data;\r\n    myComments = myComments.filter((el) => el.user == authUser);\r\n    setMyComments(myComments);\r\n    setLoading(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getMyComments();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.loginTitle}>\r\n        <h1>Moje komentarze</h1>\r\n      </div>\r\n      {loading ? (\r\n        <LoadingIcon />\r\n      ) : (\r\n        <div className={styles.commentsPanel}>\r\n          {myComments.length === 0 ? (\r\n            <div className={styles.zeroComment}>\r\n              <p>\r\n                Nie dodałeś jeszcze żadnego komentarza! Zapraszamy do\r\n                komentowania naszych artykułów.\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            myComments.map((comment) => (\r\n              <MyComment key={comment._id} data={comment} />\r\n            ))\r\n          )}\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default MyComments;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"loginTitle\":\"PasswordChange_loginTitle__QLZhN\",\"form\":\"PasswordChange_form__Rw43A\",\"loginButton\":\"PasswordChange_loginButton__GAGKo\",\"notDisplay\":\"PasswordChange_notDisplay__-WJP+\",\"valid\":\"PasswordChange_valid__0oolx\",\"invalid\":\"PasswordChange_invalid__x0jUq\"};","import { useState, useEffect, useContext } from \"react\";\r\nimport AuthContext from \"../../../../context/authContext\";\r\nimport { axiosInstance } from \"../../../../axios\";\r\nimport FormInput from \"../../../../components/Input/FormInput\";\r\nimport FormPasswordInput from \"../../../../components/Input/FormPasswordInput\";\r\nimport styles from \"./PasswordChange.module.css\";\r\n\r\nexport default function PasswordChange() {\r\n  const authContext = useContext(AuthContext);\r\n  const authEmail = authContext.user.email;\r\n  const [email, setEmail] = useState(authEmail); \r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const [errors, setErrors] = useState({\r\n    confirmPassword: \"\",\r\n    backendError: \"\",\r\n  });\r\n  const [showError, setShowError] = useState({\r\n    confirmPassword: false,\r\n    backendError: false,\r\n  });\r\n  const [success, setSuccess] = useState(\"\");\r\n  const [showSuccess, setShowSuccess] = useState(false);\r\n\r\n  const handlerConfirmPassword = (value) => {\r\n    setConfirmPassword(value);\r\n    setShowError({ ...showError, confirmPassword: true });\r\n  }\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      await axiosInstance.put(\"/password-change\", {\r\n        email,\r\n        password,\r\n        authEmail,\r\n      });\r\n      setSuccess(\r\n        \"Zmiana hasła przebiegła prawidłowo. Hasło zostało zaktualizowane.\"\r\n      );\r\n      setErrors({\r\n        ...errors,\r\n        backendError: \"\",\r\n      });\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n      setConfirmPassword(\"\");\r\n      setShowSuccess({ ...showError, backendError: false, });\r\n      setShowSuccess(true);\r\n    } catch (ex) {\r\n      let error = ex.response.data.message;\r\n      setErrors({\r\n        ...errors,\r\n        backendError: error,\r\n      });\r\n      setShowError({ ...showError, backendError: true });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (password !== confirmPassword) {\r\n      setErrors({\r\n        ...errors,\r\n        confirmPassword: \"Podane hasła nie są identyczne\",\r\n      });\r\n    } else {\r\n      setErrors({ ...errors, confirmPassword: \"\" });\r\n      setShowError({ ...showError, confirmPassword: false });\r\n    }\r\n  }, [password, confirmPassword]);\r\n\r\n  return (\r\n    <>\r\n      <div className={styles.loginTitle}>\r\n        <h1>Zmiana hasła</h1>\r\n      </div>\r\n      <form onSubmit={submit} className={styles.form}>\r\n        <FormInput\r\n          label=\"Email\"\r\n          type=\"email\"\r\n          value={email}\r\n          onChange={(value) => setEmail(value)}\r\n        />\r\n        <FormPasswordInput\r\n          label=\"Nowe hasło (min. 8 znaków)\"\r\n          type=\"password\"\r\n          value={password}\r\n          onChange={(value) => setPassword(value)}\r\n        />\r\n        <FormPasswordInput\r\n          label=\"Powtórz nowe hasło\"\r\n          type=\"password\"\r\n          value={confirmPassword}\r\n          onChange={(value) => handlerConfirmPassword(value)}\r\n          classNameButton={styles.passwordEye}\r\n        />\r\n        <div\r\n          className={\r\n            showError.confirmPassword\r\n              ? errors.confirmPassword\r\n                ? styles.invalid\r\n                : styles.notDisplay\r\n              : styles.notDisplay\r\n          }\r\n        >\r\n          {errors.confirmPassword}\r\n        </div>\r\n        <div\r\n          className={\r\n            showError.backendError\r\n              ? errors.backendError\r\n                ? styles.invalid\r\n                : styles.notDisplay\r\n              : styles.notDisplay\r\n          }\r\n        >\r\n          {errors.backendError}\r\n        </div>\r\n        <div\r\n          className={\r\n            showSuccess\r\n              ? success\r\n                ? styles.valid\r\n                : styles.notDisplay\r\n              : styles.notDisplay\r\n          }\r\n        >\r\n          {success}\r\n        </div>\r\n        <button\r\n          disabled={errors.confirmPassword}\r\n          className={styles.loginButton}\r\n        >\r\n          Zapisz zmiany\r\n        </button>\r\n      </form>\r\n    </>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"profile\":\"Profile_profile__Fvjqk\"};","import { useContext } from \"react\";\r\nimport AuthContext from \"../../../context/authContext\";\r\nimport useWebsiteTitle from \"../../../hooks/useWebsiteTitle\";\r\nimport MyComments from \"./MyComments/MyComments\";\r\nimport PasswordChange from \"./PasswordChange/PasswordChange\";\r\nimport styles from \"./Profile.module.css\";\r\n\r\nexport default function Profile() {\r\n  const authContext = useContext(AuthContext);\r\n  useWebsiteTitle(`Mój profil | RealMadryt.pl by Viniski`);\r\n\r\n  return (\r\n    <div className={styles.profile}>\r\n      {authContext.user.authenticationMethod === \"social\" ? (\r\n        <MyComments />\r\n      ) : (\r\n        <>\r\n          <PasswordChange />\r\n          <MyComments />\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import { useContext } from \"react\";\r\nimport { Navigate } from \"react-router-dom\";\r\nimport ReducerContext from \"../context/reducerContext\";\r\nimport Profile from \"../pages/Auth/Profile/Profile\";\r\n\r\nexport default function AuthenticatedRoute() {\r\n  const context = useContext(ReducerContext);\r\n\r\n  return context.state.user ? (\r\n    <Profile />\r\n  ) : (\r\n    <Navigate to=\"/zaloguj\" />\r\n  );\r\n}\r\n"],"names":["props","atricleId","reducer","useContext","ReducerContext","className","styles","data","text","to","articleId","state","articles","filter","article","Number","title","useState","myComments","setMyComments","loading","setLoading","authUser","AuthContext","user","userName","getMyComments","axiosInstance","res","el","useEffect","LoadingIcon","length","map","comment","_id","PasswordChange","authEmail","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","backendError","errors","setErrors","showError","setShowError","success","setSuccess","showSuccess","setShowSuccess","submit","e","preventDefault","error","response","message","onSubmit","FormInput","label","type","value","onChange","FormPasswordInput","handlerConfirmPassword","classNameButton","disabled","Profile","authContext","useWebsiteTitle","authenticationMethod","AuthenticatedRoute"],"sourceRoot":""}